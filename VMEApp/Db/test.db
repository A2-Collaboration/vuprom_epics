#  Record database for TAPS Trigger VUPROM Scalser
#			O.Steffen <steffen@kph.uni-mainz.de>, Oct, 2013
#
# INP field format help:
#
# field(INP, "0xAA0BB000:Scaler [R Norm=<norm> Firmware=<firmware>]")
#
# AA: vuprom base address (hex)
# BB: subaddress for scaler readout on the vuprom (hex)
# Scaler: Number of the scaler inside the memory range (decimal). This is
#         not the memory address (so not aligned to 4 bytes) but the real number
#         of the 32bit scaler (address gets calculated).
#
# Use R Norm=<norm> Firmware=<firmware> to define one reference scaler per vuprom.
#   R indicates that this is the reference scaler
#   Norm=      Reference frequency, used to normalize all other scalers
#   Firmware=  Installed firmware version number
# Always make sure these values are correct.
#


record(ai, "TAPS:TRIG:ReferenceScaler")
{
	field(DTYP, "VMEScaler")
	field(INP, "scaler 0x0A003000:83 R Norm=1000000 Firmware=0x13102509")
	field(SCAN, "I/O Intr")
	field(DESC, "1MHz reference scaler of the taps-trigger vuprom")
}

record(ai, "TAPS:BAF:TRIG:CFD:OR")
{
	field(DTYP, "VMEScaler")
	field(INP, "scaler 0x0A003000:2")
	field(SCAN, "I/O Intr")
	field(DESC, "TAPS CFD OR")
	field(EGU, "Hz")
}

record(longin, "TAPS:TRIG:Mode")
{
	field(DTYP, "VMEScaler")
	field(INP, "register 0x0A003000:19")
	field(SCAN, "1 Second")
	field(DESC, "TAPSActualMode")
}
